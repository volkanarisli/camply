<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Camply: Node.js: fs-extra</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="camply.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Camply
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Camply is a social platform that users can share their own experiences.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Node.js: fs-extra </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><code>fs-extra</code> adds file system methods that aren't included in the native <code>fs</code> module. It is a drop in replacement for <code>fs</code>.</p>
<p><a href="https://www.npmjs.org/package/fs-extra"></a> <a href="http://travis-ci.org/jprichardson/node-fs-extra"></a> <a href="https://ci.appveyor.com/project/jprichardson/node-fs-extra/branch/master"></a> <a href="https://www.npmjs.org/package/fs-extra"></a> <a href="https://coveralls.io/r/jprichardson/node-fs-extra"></a></p>
<p><a href="https://github.com/feross/standard"></a></p>
<h2>Why? </h2>
<p>I got tired of including <code>mkdirp</code>, <code>rimraf</code>, and <code>ncp</code> in most of my projects.</p>
<h2>Installation </h2>
<pre class="fragment">npm install --save fs-extra
</pre><h2>Usage </h2>
<p><code>fs-extra</code> is a drop in replacement for native <code>fs</code>. All methods in <code>fs</code> are unmodified and attached to <code>fs-extra</code>.</p>
<p>You don't ever need to include the original <code>fs</code> module again:</p>
<div class="fragment"><div class="line">const fs = require(&#39;fs&#39;) // this is no longer necessary</div></div><!-- fragment --><p>you can now do this:</p>
<div class="fragment"><div class="line">const fs = require(&#39;fs-extra&#39;)</div></div><!-- fragment --><p>or if you prefer to make it clear that you're using <code>fs-extra</code> and not <code>fs</code>, you may want to name your <code>fs</code> variable <code>fse</code> like so:</p>
<div class="fragment"><div class="line">const fse = require(&#39;fs-extra&#39;)</div></div><!-- fragment --><p>you can also keep both, but it's redundant:</p>
<div class="fragment"><div class="line">const fs = require(&#39;fs&#39;)</div><div class="line">const fse = require(&#39;fs-extra&#39;)</div></div><!-- fragment --><h2>Sync vs Async </h2>
<p>Most methods are async by default (they take a callback with an <code>Error</code> as first argument).</p>
<p>Sync methods on the other hand will throw if an error occurs.</p>
<p>Example:</p>
<div class="fragment"><div class="line">const fs = require(&#39;fs-extra&#39;)</div><div class="line"></div><div class="line">fs.copy(&#39;/tmp/myfile&#39;, &#39;/tmp/mynewfile&#39;, err =&gt; {</div><div class="line">  if (err) return console.error(err)</div><div class="line">  console.log(&quot;success!&quot;)</div><div class="line">});</div><div class="line"></div><div class="line">try {</div><div class="line">  fs.copySync(&#39;/tmp/myfile&#39;, &#39;/tmp/mynewfile&#39;)</div><div class="line">  console.log(&quot;success!&quot;)</div><div class="line">} catch (err) {</div><div class="line">  console.error(err)</div><div class="line">}</div></div><!-- fragment --><h2>Methods </h2>
<h3>Async</h3>
<ul>
<li>copy</li>
<li>emptyDir</li>
<li>ensureFile</li>
<li>ensureDir</li>
<li>ensureLink</li>
<li>ensureSymlink</li>
<li>mkdirs</li>
<li>move</li>
<li>outputFile</li>
<li>outputJson</li>
<li>readJson</li>
<li>remove</li>
<li>writeJson</li>
</ul>
<h3>Sync</h3>
<ul>
<li>copySync</li>
<li>emptyDirSync</li>
<li>ensureFileSync</li>
<li>ensureDirSync</li>
<li>ensureLinkSync</li>
<li>ensureSymlinkSync</li>
<li>mkdirsSync</li>
<li>moveSync</li>
<li>outputFileSync</li>
<li>outputJsonSync</li>
<li>readJsonSync</li>
<li>removeSync</li>
<li>writeJsonSync</li>
</ul>
<p><b>NOTE:</b> You can still use the native Node.js methods. They are copied over to <code>fs-extra</code>.</p>
<h3>What happened to <code>walk()</code> and <code>walkSync()</code>?</h3>
<p>They were removed from <code>fs-extra</code> in v2.0.0. If you need the functionality, <code>walk</code> and <code>walkSync</code> are available as separate packages, <a href="https://github.com/jprichardson/node-klaw"><code>klaw</code></a> and <a href="https://github.com/manidlou/node-klaw-sync"><code>klaw-sync</code></a>.</p>
<h2>Third Party </h2>
<h3>Promises</h3>
<p>Use <a href="https://github.com/petkaantonov/bluebird">Bluebird</a>. See <a href="https://github.com/petkaantonov/bluebird/blob/master/API.md#promisification">https://github.com/petkaantonov/bluebird/blob/master/API.md#promisification</a>. <code>fs-extra</code> is explicitly listed as supported.</p>
<div class="fragment"><div class="line">const Promise = require(&#39;bluebird&#39;)</div><div class="line">const fs = Promise.promisifyAll(require(&#39;fs-extra&#39;))</div></div><!-- fragment --><p>Or you can use a dedicated package:</p>
<ul>
<li><a href="https://github.com/overlookmotel/fs-extra-promise"><code>fs-extra-promise</code></a> uses Bluebird.</li>
<li><a href="https://github.com/kevinbeaty/fs-promise"><code>fs-promise</code></a> uses <a href="https://github.com/kevinbeaty/any-promise">Any Promise</a> and also covers <a href="https://github.com/normalize/mz/blob/master/fs.js"><code>mz/fs</code></a>.</li>
<li><a href="https://github.com/grammarly/fs-p"><code>fs-p</code></a> - TypeScript-friendly promises implementation</li>
</ul>
<h3>TypeScript</h3>
<p>If you like TypeScript, you can use <code>fs-extra</code> with it: <a href="https://github.com/borisyankov/DefinitelyTyped/tree/master/fs-extra">https://github.com/borisyankov/DefinitelyTyped/tree/master/fs-extra</a></p>
<h3>File / Directory Watching</h3>
<p>If you want to watch for changes to files or directories, then you should use <a href="https://github.com/paulmillr/chokidar">chokidar</a>.</p>
<h3>Misc.</h3>
<ul>
<li><a href="https://github.com/cadorn/mfs">mfs</a> - Monitor your fs-extra calls.</li>
</ul>
<h2>Hacking on fs-extra </h2>
<p>Wanna hack on <code>fs-extra</code>? Great! Your help is needed! <a href="http://nodei.co/npm/fs-extra.png?downloads=true&amp;downloadRank=true&amp;stars=true">fs-extra is one of the most depended upon Node.js packages</a>. This project uses <a href="https://github.com/feross/standard">JavaScript Standard Style</a> - if the name or style choices bother you, you're gonna have to get over it :) If <code>standard</code> is good enough for <code>npm</code>, it's good enough for <code>fs-extra</code>.</p>
<p><a href="https://github.com/feross/standard"></a></p>
<p>What's needed?</p><ul>
<li>First, take a look at existing issues. Those are probably going to be where the priority lies.</li>
<li>More tests for edge cases. Specifically on different platforms. There can never be enough tests.</li>
<li>Improve test coverage. See coveralls output for more info.</li>
</ul>
<p>Note: If you make any big changes, <b>you should definitely file an issue for discussion first.</b></p>
<h3>Running the Test Suite</h3>
<p>fs-extra contains hundreds of tests.</p>
<ul>
<li><code>npm run lint</code>: runs the linter (<a href="http://standardjs.com/">standard</a>)</li>
<li><code>npm run unit</code>: runs the unit tests</li>
<li><code>npm test</code>: runs both the linter and the tests</li>
</ul>
<h3>Windows</h3>
<p>If you run the tests on the Windows and receive a lot of symbolic link <code>EPERM</code> permission errors, it's because on Windows you need elevated privilege to create symbolic links. You can add this to your Windows's account by following the instructions here: <a href="http://superuser.com/questions/104845/permission-to-make-symbolic-links-in-windows-7">http://superuser.com/questions/104845/permission-to-make-symbolic-links-in-windows-7</a> However, I didn't have much luck doing this.</p>
<p>Since I develop on Mac OS X, I use VMWare Fusion for Windows testing. I create a shared folder that I map to a drive on Windows. I open the <code>Node.js command prompt</code> and run as <code>Administrator</code>. I then map the network drive running the following command: </p><pre class="fragment">net use z: "\\vmware-host\Shared Folders"
</pre><p>I can then navigate to my <code>fs-extra</code> directory and run the tests.</p>
<h2>Naming </h2>
<p>I put a lot of thought into the naming of these functions. Inspired by 's request. So he deserves much of the credit for raising the issue. See discussion(s) here:</p>
<ul>
<li><a href="https://github.com/jprichardson/node-fs-extra/issues/2">https://github.com/jprichardson/node-fs-extra/issues/2</a></li>
<li><a href="https://github.com/flatiron/utile/issues/11">https://github.com/flatiron/utile/issues/11</a></li>
<li><a href="https://github.com/ryanmcgrath/wrench-js/issues/29">https://github.com/ryanmcgrath/wrench-js/issues/29</a></li>
<li><a href="https://github.com/substack/node-mkdirp/issues/17">https://github.com/substack/node-mkdirp/issues/17</a></li>
</ul>
<p>First, I believe that in as many cases as possible, the <a href="http://nodejs.org/api/fs.html">Node.js naming schemes</a> should be chosen. However, there are problems with the Node.js own naming schemes.</p>
<p>For example, <code>fs.readFile()</code> and <code>fs.readdir()</code>: the <b>F</b> is capitalized in <em>File</em> and the <b>d</b> is not capitalized in <em>dir</em>. Perhaps a bit pedantic, but they should still be consistent. Also, Node.js has chosen a lot of POSIX naming schemes, which I believe is great. See: <code>fs.mkdir()</code>, <code>fs.rmdir()</code>, <code>fs.chown()</code>, etc.</p>
<p>We have a dilemma though. How do you consistently name methods that perform the following POSIX commands: <code>cp</code>, <code>cp -r</code>, <code>mkdir -p</code>, and <code>rm -rf</code>?</p>
<p>My perspective: when in doubt, err on the side of simplicity. A directory is just a hierarchical grouping of directories and files. Consider that for a moment. So when you want to copy it or remove it, in most cases you'll want to copy or remove all of its contents. When you want to create a directory, if the directory that it's suppose to be contained in does not exist, then in most cases you'll want to create that too.</p>
<p>So, if you want to remove a file or a directory regardless of whether it has contents, just call <code>fs.remove(path)</code>. If you want to copy a file or a directory whether it has contents, just call <code>fs.copy(source, destination)</code>. If you want to create a directory regardless of whether its parent directories exist, just call <code>fs.mkdirs(path)</code> or <code>fs.mkdirp(path)</code>.</p>
<h2>Credit </h2>
<p><code>fs-extra</code> wouldn't be possible without using the modules from the following authors:</p>
<ul>
<li><a href="https://github.com/isaacs">Isaac Shlueter</a></li>
<li><a href="https://github.com/avianflu">Charlie McConnel</a></li>
<li><a href="https://github.com/substack">James Halliday</a></li>
<li><a href="https://github.com/andrewrk">Andrew Kelley</a></li>
</ul>
<h2>License </h2>
<p>Licensed under MIT</p>
<p>Copyright (c) 2011-2017 <a href="https://github.com/jprichardson">JP Richardson</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
