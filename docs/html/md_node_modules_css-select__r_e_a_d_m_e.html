<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Camply: css-select [![NPM version](http://img.shields.io/npm/v/css-select.svg)](https://npmjs.org/package/css-select) [![Build Status](https://travis-ci.org/fb55/css-select.svg?branch=master)](http://travis-ci.org/fb55/css-select) [![Downloads](https://img.shields.io/npm/dm/css-select.svg)](https://npmjs.org/package/css-select) [![Coverage](https://coveralls.io/repos/fb55/css-select/badge.svg?branch=master)](https://coveralls.io/r/fb55/css-select)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="camply.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Camply
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Camply is a social platform that users can share their own experiences.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">css-select [![NPM version](<a href="http://img.shields.io/npm/v/css-select.svg">http://img.shields.io/npm/v/css-select.svg</a>)](<a href="https://npmjs.org/package/css-select">https://npmjs.org/package/css-select</a>) [![Build Status](<a href="https://travis-ci.org/fb55/css-select.svg?branch=master">https://travis-ci.org/fb55/css-select.svg?branch=master</a>)](<a href="http://travis-ci.org/fb55/css-select">http://travis-ci.org/fb55/css-select</a>) [![Downloads](<a href="https://img.shields.io/npm/dm/css-select.svg">https://img.shields.io/npm/dm/css-select.svg</a>)](<a href="https://npmjs.org/package/css-select">https://npmjs.org/package/css-select</a>) [![Coverage](<a href="https://coveralls.io/repos/fb55/css-select/badge.svg?branch=master">https://coveralls.io/repos/fb55/css-select/badge.svg?branch=master</a>)](<a href="https://coveralls.io/r/fb55/css-select">https://coveralls.io/r/fb55/css-select</a>) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>a CSS selector compiler/engine</p>
<h2>What?</h2>
<p>css-select turns CSS selectors into functions that tests if elements match them. When searching for elements, testing is executed "from the top", similar to how browsers execute CSS selectors.</p>
<p>In its default configuration, css-select queries the DOM structure of the <a href="https://github.com/fb55/domhandler"><code>domhandler</code></a> module (also known as htmlparser2 DOM).</p>
<p><b>Features:</b></p>
<ul>
<li>Full implementation of CSS3 selectors</li>
<li>Partial implementation of jQuery/Sizzle extensions</li>
<li>Very high test coverage</li>
<li>Pretty good performance</li>
</ul>
<h2>Why?</h2>
<p>The traditional approach of executing CSS selectors, named left-to-right execution, is to execute every component of the selector in order, from left to right _(duh)_. The execution of the selector <code>a b</code> for example will first query for <code>a</code> elements, then search these for <code>b</code> elements. (That's the approach of eg. <a href="https://github.com/jquery/sizzle"><code>Sizzle</code></a>, <a href="https://github.com/dperini/nwmatcher/"><code>nwmatcher</code></a> and <a href="https://github.com/ded/qwery"><code>qwery</code></a>.)</p>
<p>While this works, it has some downsides: Children of <code>a</code>s will be checked multiple times; first, to check if they are also <code>a</code>s, then, for every superior <code>a</code> once, if they are <code>b</code>s. Using <a href="http://en.wikipedia.org/wiki/Big_O_notation">Big O notation</a>, that would be <code>O(n^(k+1))</code>, where <code>k</code> is the number of descendant selectors (that's the space in the example above).</p>
<p>The far more efficient approach is to first look for <code>b</code> elements, then check if they have superior <code>a</code> elements: Using big O notation again, that would be <code>O(n)</code>. That's called right-to-left execution.</p>
<p>And that's what css-select does â€“ and why it's quite performant.</p>
<h2>How does it work?</h2>
<p>By building a stack of functions.</p>
<p><em>Wait, what?</em></p>
<p>Okay, so let's suppose we want to compile the selector <code>a b</code> again, for right-to-left execution. We start by <em>parsing</em> the selector, which means we turn the selector into an array of the building-blocks of the selector, so we can distinguish them easily. That's what the <a href="https://github.com/fb55/css-what"><code>css-what</code></a> module is for, if you want to have a look.</p>
<p>Anyway, after parsing, we end up with an array like this one:</p>
<div class="fragment"><div class="line">[</div><div class="line">  { type: &#39;tag&#39;, name: &#39;a&#39; },</div><div class="line">  { type: &#39;descendant&#39; },</div><div class="line">  { type: &#39;tag&#39;, name: &#39;b&#39; }</div><div class="line">]</div></div><!-- fragment --><p>Actually, this array is wrapped in another array, but that's another story (involving commas in selectors).</p>
<p>Now that we know the meaning of every part of the selector, we can compile it. That's where it becomes interesting.</p>
<p>The basic idea is to turn every part of the selector into a function, which takes an element as its only argument. The function checks whether a passed element matches its part of the selector: If it does, the element is passed to the next turned-into-a-function part of the selector, which does the same. If an element is accepted by all parts of the selector, it <em>matches</em> the selector and double rainbow ALL THE WAY.</p>
<p>As said before, we want to do right-to-left execution with all the big O improvements nonsense, so elements are passed from the rightmost part of the selector (<code>b</code> in our example) to the leftmost (~~which would be <code>c</code>~~ of course <code>a</code>).</p>
<p>_//TODO: More in-depth description. Implementation details. Build a spaceship._</p>
<h2>API</h2>
<div class="fragment"><div class="line">var CSSselect = require(&quot;css-select&quot;);</div></div><!-- fragment --><h4><code>CSSselect(query, elems, options)</code></h4>
<p>Queries <code>elems</code>, returns an array containing all matches.</p>
<ul>
<li><code>query</code> can be either a CSS selector or a function.</li>
<li><code>elems</code> can be either an array of elements, or a single element. If it is an element, its children will be queried.</li>
<li><code>options</code> is described below.</li>
</ul>
<p>Aliases: <code>CSSselect.selectAll(query, elems)</code>, <code>CSSselect.iterate(query, elems)</code>.</p>
<h4><code>CSSselect.compile(query)</code></h4>
<p>Compiles the query, returns a function.</p>
<h4><code>CSSselect.is(elem, query, options)</code></h4>
<p>Tests whether or not an element is matched by <code>query</code>. <code>query</code> can be either a CSS selector or a function.</p>
<h4><code>CSSselect.selectOne(query, elems, options)</code></h4>
<p>Arguments are the same as for <code>CSSselect(query, elems)</code>. Only returns the first match, or <code>null</code> if there was no match.</p>
<h3>Options</h3>
<ul>
<li><code>xmlMode</code>: When enabled, tag names will be case-sensitive. Default: <code>false</code>.</li>
<li><code>strict</code>: Limits the module to only use CSS3 selectors. Default: <code>false</code>.</li>
<li><code>rootFunc</code>: The last function in the stack, will be called with the last element that's looked at. Should return <code>true</code>.</li>
</ul>
<h2>Supported selectors</h2>
<p><em>As defined by CSS 4 and / or jQuery.</em></p>
<ul>
<li>Universal (<code>*</code>)</li>
<li>Tag (<code>&lt;tagname&gt;</code>)</li>
<li>Descendant ()</li>
<li>Child (<code>&gt;</code>)</li>
<li>Parent (<code>&lt;</code>) *</li>
<li>Sibling (<code>+</code>)</li>
<li>Adjacent (<code>~</code>)</li>
<li>Attribute (<code>[attr=foo]</code>), with supported comparisons:<ul>
<li><code>[attr]</code> (existential)</li>
<li><code>=</code></li>
<li><code>~=</code></li>
<li><code>|=</code></li>
<li><code>*=</code></li>
<li><code>^=</code></li>
<li><code>$=</code></li>
<li><code>!=</code> *</li>
<li>Also, <code>i</code> can be added after the comparison to make the comparison case-insensitive (eg. <code>[attr=foo i]</code>) *</li>
</ul>
</li>
<li>Pseudos:<ul>
<li><code>:not</code></li>
<li><code>:contains</code> *</li>
<li><code>:icontains</code> * (case-insensitive version of <code>:contains</code>)</li>
<li><code>:has</code> *</li>
<li><code>:root</code></li>
<li><code>:empty</code></li>
<li><code>:parent</code> *</li>
<li><code>:[first|last]-child[-of-type]</code></li>
<li><code>:only-of-type</code>, <code>:only-child</code></li>
<li><code>:nth-[last-]child[-of-type]</code></li>
<li><code>:link</code>, <code>:visited</code> (the latter doesn't match any elements)</li>
<li><code>:selected</code> *, <code>:checked</code></li>
<li><code>:enabled</code>, <code>:disabled</code></li>
<li><code>:required</code>, <code>:optional</code></li>
<li><code>:header</code>, <code>:button</code>, <code>:input</code>, <code>:text</code>, <code>:checkbox</code>, <code>:file</code>, <code>:password</code>, <code>:reset</code>, <code>:radio</code> etc. *</li>
<li><code>:matches</code> *</li>
</ul>
</li>
</ul>
<p><b>*</b>: Not part of CSS3 </p><hr/>
<p>License: BSD-like </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
