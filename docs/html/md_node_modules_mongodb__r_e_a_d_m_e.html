<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Camply: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="camply.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Camply
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Camply is a social platform that users can share their own experiences.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://nodei.co/npm/mongodb/"></a> <a href="https://nodei.co/npm/mongodb/"></a></p>
<p><a href="http://travis-ci.org/mongodb/node-mongodb-native"></a> <a href="https://coveralls.io/github/mongodb/node-mongodb-native?branch=2.1"></a> <a href="https://gitter.im/mongodb/node-mongodb-native?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge"></a></p>
<h1>Description</h1>
<p>The official <a href="https://www.mongodb.com/">MongoDB</a> driver for Node.js. Provides a high-level API on top of <a href="https://www.npmjs.com/package/mongodb-core">mongodb-core</a> that is meant for end users.</p>
<p><b>NOTE: v3.x was recently released with breaking API changes. You can find a list of changes CHANGES_3.0.0.md "here".</b></p>
<h2>MongoDB Node.JS Driver</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">what  </th><th class="markdownTableHeadNone">where   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">documentation  </td><td class="markdownTableBodyNone"><a href="http://mongodb.github.io/node-mongodb-native">http://mongodb.github.io/node-mongodb-native</a>   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">api-doc  </td><td class="markdownTableBodyNone"><a href="http://mongodb.github.io/node-mongodb-native/3.1/api">http://mongodb.github.io/node-mongodb-native/3.1/api</a>   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">source  </td><td class="markdownTableBodyNone"><a href="https://github.com/mongodb/node-mongodb-native">https://github.com/mongodb/node-mongodb-native</a>   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">mongodb  </td><td class="markdownTableBodyNone"><a href="http://www.mongodb.org">http://www.mongodb.org</a>   </td></tr>
</table>
<h3>Bugs / Feature Requests</h3>
<p>Think you’ve found a bug? Want to see a new feature in <code>node-mongodb-native</code>? Please open a case in our issue management tool, JIRA:</p>
<ul>
<li>Create an account and login <a href="https://jira.mongodb.org">jira.mongodb.org</a>.</li>
<li>Navigate to the NODE project <a href="https://jira.mongodb.org/browse/NODE">jira.mongodb.org/browse/NODE</a>.</li>
<li>Click <b>Create Issue</b> - Please provide as much information as possible about the issue type and how to reproduce it.</li>
</ul>
<p>Bug reports in JIRA for all driver projects (i.e. NODE, PYTHON, CSHARP, JAVA) and the Core Server (i.e. SERVER) project are <b>public</b>.</p>
<h3>Questions and Bug Reports</h3>
<ul>
<li>Mailing List: <a href="https://groups.google.com/forum/#!forum/node-mongodb-native">groups.google.com/forum/#!forum/node-mongodb-native</a></li>
<li>JIRA: <a href="http://jira.mongodb.org">jira.mongodb.org</a></li>
</ul>
<h3>Change Log</h3>
<p>Change history can be found in `HISTORY.md`.</p>
<h1>Installation</h1>
<p>The recommended way to get started using the Node.js 3.0 driver is by using the <code>npm</code> (Node Package Manager) to install the dependency in your project.</p>
<h2>MongoDB Driver</h2>
<p>Given that you have created your own project using <code>npm init</code> we install the MongoDB driver and its dependencies by executing the following <code>npm</code> command.</p>
<div class="fragment"><div class="line">npm install mongodb --save</div></div><!-- fragment --><p>This will download the MongoDB driver and add a dependency entry in your <code>package.json</code> file.</p>
<p>You can also use the <a href="https://yarnpkg.com/en">Yarn</a> package manager.</p>
<h2>Troubleshooting</h2>
<p>The MongoDB driver depends on several other packages. These are:</p>
<ul>
<li><a href="https://github.com/mongodb-js/mongodb-core">mongodb-core</a></li>
<li><a href="https://github.com/mongodb/js-bson">bson</a></li>
<li><a href="https://github.com/mongodb-js/kerberos">kerberos</a></li>
<li><a href="https://github.com/nodejs/node-gyp">node-gyp</a></li>
</ul>
<p>The <code>kerberos</code> package is a C++ extension that requires a build environment to be installed on your system. You must be able to build Node.js itself in order to compile and install the <code>kerberos</code> module. Furthermore, the <code>kerberos</code> module requires the MIT Kerberos package to correctly compile on UNIX operating systems. Consult your UNIX operation system package manager for what libraries to install.</p>
<p><b>Windows already contains the SSPI API used for Kerberos authentication. However, you will need to install a full compiler tool chain using Visual Studio C++ to correctly install the Kerberos extension.</b></p>
<h3>Diagnosing on UNIX</h3>
<p>If you don’t have the build-essentials, this module won’t build. In the case of Linux, you will need gcc, g++, Node.js with all the headers and Python. The easiest way to figure out what’s missing is by trying to build the Kerberos project. You can do this by performing the following steps.</p>
<div class="fragment"><div class="line">git clone https://github.com/mongodb-js/kerberos</div><div class="line">cd kerberos</div><div class="line">npm install</div></div><!-- fragment --><p>If all the steps complete, you have the right toolchain installed. If you get the error "node-gyp not found," you need to install <code>node-gyp</code> globally:</p>
<div class="fragment"><div class="line">npm install -g node-gyp</div></div><!-- fragment --><p>If it correctly compiles and runs the tests you are golden. We can now try to install the <code>mongod</code> driver by performing the following command.</p>
<div class="fragment"><div class="line">cd yourproject</div><div class="line">npm install mongodb --save</div></div><!-- fragment --><p>If it still fails the next step is to examine the npm log. Rerun the command but in this case in verbose mode.</p>
<div class="fragment"><div class="line">npm --loglevel verbose install mongodb</div></div><!-- fragment --><p>This will print out all the steps npm is performing while trying to install the module.</p>
<h3>Diagnosing on Windows</h3>
<p>A compiler tool chain known to work for compiling <code>kerberos</code> on Windows is the following.</p>
<ul>
<li>Visual Studio C++ 2010 (do not use higher versions)</li>
<li>Windows 7 64bit SDK</li>
<li>Python 2.7 or higher</li>
</ul>
<p>Open the Visual Studio command prompt. Ensure <code>node.exe</code> is in your path and install <code>node-gyp</code>.</p>
<div class="fragment"><div class="line">npm install -g node-gyp</div></div><!-- fragment --><p>Next, you will have to build the project manually to test it. Clone the repo, install dependencies and rebuild:</p>
<div class="fragment"><div class="line">git clone https://github.com/christkv/kerberos.git</div><div class="line">cd kerberos</div><div class="line">npm install</div><div class="line">node-gyp rebuild</div></div><!-- fragment --><p>This should rebuild the driver successfully if you have everything set up correctly.</p>
<h3>Other possible issues</h3>
<p>Your Python installation might be hosed making gyp break. Test your deployment environment first by trying to build Node.js itself on the server in question, as this should unearth any issues with broken packages (and there are a lot of broken packages out there).</p>
<p>Another tip is to ensure your user has write permission to wherever the Node.js modules are being installed.</p>
<h2>Quick Start</h2>
<p>This guide will show you how to set up a simple application using Node.js and MongoDB. Its scope is only how to set up the driver and perform the simple CRUD operations. For more in-depth coverage, see the tutorials.</p>
<h3>Create the <code>package.json</code> file</h3>
<p>First, create a directory where your application will live.</p>
<div class="fragment"><div class="line">mkdir myproject</div><div class="line">cd myproject</div></div><!-- fragment --><p>Enter the following command and answer the questions to create the initial structure for your new project:</p>
<div class="fragment"><div class="line">npm init</div></div><!-- fragment --><p>Next, install the driver dependency.</p>
<div class="fragment"><div class="line">npm install mongodb --save</div></div><!-- fragment --><p>You should see <b>NPM</b> download a lot of files. Once it's done you'll find all the downloaded packages under the <b>node_modules</b> directory.</p>
<h3>Start a MongoDB Server</h3>
<p>For complete MongoDB installation instructions, see <a href="https://docs.mongodb.org/manual/installation/">the manual</a>.</p>
<ol type="1">
<li>Download the right MongoDB version from <a href="https://www.mongodb.org/downloads">MongoDB</a></li>
<li>Create a database directory (in this case under **/data**).</li>
<li>Install and start a <code>mongod</code> process.</li>
</ol>
<div class="fragment"><div class="line">mongod --dbpath=/data</div></div><!-- fragment --><p>You should see the <b>mongod</b> process start up and print some status information.</p>
<h3>Connect to MongoDB</h3>
<p>Create a new <b>app.js</b> file and add the following code to try out some basic CRUD operations using the MongoDB driver.</p>
<p>Add code to connect to the server and the database <b>myproject</b>:</p>
<div class="fragment"><div class="line">const MongoClient = require(&#39;mongodb&#39;).MongoClient;</div><div class="line">const assert = require(&#39;assert&#39;);</div><div class="line"></div><div class="line">// Connection URL</div><div class="line">const url = &#39;mongodb://localhost:27017&#39;;</div><div class="line"></div><div class="line">// Database Name</div><div class="line">const dbName = &#39;myproject&#39;;</div><div class="line"></div><div class="line">// Use connect method to connect to the server</div><div class="line">MongoClient.connect(url, function(err, client) {</div><div class="line">  assert.equal(null, err);</div><div class="line">  console.log(&quot;Connected successfully to server&quot;);</div><div class="line"></div><div class="line">  const db = client.db(dbName);</div><div class="line"></div><div class="line">  client.close();</div><div class="line">});</div></div><!-- fragment --><p>Run your app from the command line with:</p>
<div class="fragment"><div class="line">node app.js</div></div><!-- fragment --><p>The application should print <b>Connected successfully to server</b> to the console.</p>
<h3>Insert a Document</h3>
<p>Add to <b>app.js</b> the following function which uses the <b>insertMany</b> method to add three documents to the <b>documents</b> collection.</p>
<div class="fragment"><div class="line">const insertDocuments = function(db, callback) {</div><div class="line">  // Get the documents collection</div><div class="line">  const collection = db.collection(&#39;documents&#39;);</div><div class="line">  // Insert some documents</div><div class="line">  collection.insertMany([</div><div class="line">    {a : 1}, {a : 2}, {a : 3}</div><div class="line">  ], function(err, result) {</div><div class="line">    assert.equal(err, null);</div><div class="line">    assert.equal(3, result.result.n);</div><div class="line">    assert.equal(3, result.ops.length);</div><div class="line">    console.log(&quot;Inserted 3 documents into the collection&quot;);</div><div class="line">    callback(result);</div><div class="line">  });</div><div class="line">}</div></div><!-- fragment --><p>The <b>insert</b> command returns an object with the following fields:</p>
<ul>
<li><b>result</b> Contains the result document from MongoDB</li>
<li><b>ops</b> Contains the documents inserted with added **_id** fields</li>
<li><b>connection</b> Contains the connection used to perform the insert</li>
</ul>
<p>Add the following code to call the <b>insertDocuments</b> function:</p>
<div class="fragment"><div class="line">const MongoClient = require(&#39;mongodb&#39;).MongoClient;</div><div class="line">const assert = require(&#39;assert&#39;);</div><div class="line"></div><div class="line">// Connection URL</div><div class="line">const url = &#39;mongodb://localhost:27017&#39;;</div><div class="line"></div><div class="line">// Database Name</div><div class="line">const dbName = &#39;myproject&#39;;</div><div class="line"></div><div class="line">// Use connect method to connect to the server</div><div class="line">MongoClient.connect(url, function(err, client) {</div><div class="line">  assert.equal(null, err);</div><div class="line">  console.log(&quot;Connected successfully to server&quot;);</div><div class="line"></div><div class="line">  const db = client.db(dbName);</div><div class="line"></div><div class="line">  insertDocuments(db, function() {</div><div class="line">    client.close();</div><div class="line">  });</div><div class="line">});</div></div><!-- fragment --><p>Run the updated <b>app.js</b> file:</p>
<div class="fragment"><div class="line">node app.js</div></div><!-- fragment --><p>The operation returns the following output:</p>
<div class="fragment"><div class="line">Connected successfully to server</div><div class="line">Inserted 3 documents into the collection</div></div><!-- fragment --><h3>Find All Documents</h3>
<p>Add a query that returns all the documents.</p>
<div class="fragment"><div class="line">const findDocuments = function(db, callback) {</div><div class="line">  // Get the documents collection</div><div class="line">  const collection = db.collection(&#39;documents&#39;);</div><div class="line">  // Find some documents</div><div class="line">  collection.find({}).toArray(function(err, docs) {</div><div class="line">    assert.equal(err, null);</div><div class="line">    console.log(&quot;Found the following records&quot;);</div><div class="line">    console.log(docs)</div><div class="line">    callback(docs);</div><div class="line">  });</div><div class="line">}</div></div><!-- fragment --><p>This query returns all the documents in the <b>documents</b> collection. Add the <b>findDocument</b> method to the <b>MongoClient.connect</b> callback:</p>
<div class="fragment"><div class="line">const MongoClient = require(&#39;mongodb&#39;).MongoClient;</div><div class="line">const assert = require(&#39;assert&#39;);</div><div class="line"></div><div class="line">// Connection URL</div><div class="line">const url = &#39;mongodb://localhost:27017&#39;;</div><div class="line"></div><div class="line">// Database Name</div><div class="line">const dbName = &#39;myproject&#39;;</div><div class="line"></div><div class="line">// Use connect method to connect to the server</div><div class="line">MongoClient.connect(url, function(err, client) {</div><div class="line">  assert.equal(null, err);</div><div class="line">  console.log(&quot;Connected correctly to server&quot;);</div><div class="line"></div><div class="line">  const db = client.db(dbName);</div><div class="line"></div><div class="line">  insertDocuments(db, function() {</div><div class="line">    findDocuments(db, function() {</div><div class="line">      client.close();</div><div class="line">    });</div><div class="line">  });</div><div class="line">});</div></div><!-- fragment --><h3>Find Documents with a Query Filter</h3>
<p>Add a query filter to find only documents which meet the query criteria.</p>
<div class="fragment"><div class="line">const findDocuments = function(db, callback) {</div><div class="line">  // Get the documents collection</div><div class="line">  const collection = db.collection(&#39;documents&#39;);</div><div class="line">  // Find some documents</div><div class="line">  collection.find({&#39;a&#39;: 3}).toArray(function(err, docs) {</div><div class="line">    assert.equal(err, null);</div><div class="line">    console.log(&quot;Found the following records&quot;);</div><div class="line">    console.log(docs);</div><div class="line">    callback(docs);</div><div class="line">  });</div><div class="line">}</div></div><!-- fragment --><p>Only the documents which match <code>'a' : 3</code> should be returned.</p>
<h3>Update a document</h3>
<p>The following operation updates a document in the <b>documents</b> collection.</p>
<div class="fragment"><div class="line">const updateDocument = function(db, callback) {</div><div class="line">  // Get the documents collection</div><div class="line">  const collection = db.collection(&#39;documents&#39;);</div><div class="line">  // Update document where a is 2, set b equal to 1</div><div class="line">  collection.updateOne({ a : 2 }</div><div class="line">    , { $set: { b : 1 } }, function(err, result) {</div><div class="line">    assert.equal(err, null);</div><div class="line">    assert.equal(1, result.result.n);</div><div class="line">    console.log(&quot;Updated the document with the field a equal to 2&quot;);</div><div class="line">    callback(result);</div><div class="line">  });</div><div class="line">}</div></div><!-- fragment --><p>The method updates the first document where the field <b>a</b> is equal to <b>2</b> by adding a new field <b>b</b> to the document set to <b>1</b>. Next, update the callback function from <b>MongoClient.connect</b> to include the update method.</p>
<div class="fragment"><div class="line">const MongoClient = require(&#39;mongodb&#39;).MongoClient;</div><div class="line">const assert = require(&#39;assert&#39;);</div><div class="line"></div><div class="line">// Connection URL</div><div class="line">const url = &#39;mongodb://localhost:27017&#39;;</div><div class="line"></div><div class="line">// Database Name</div><div class="line">const dbName = &#39;myproject&#39;;</div><div class="line"></div><div class="line">// Use connect method to connect to the server</div><div class="line">MongoClient.connect(url, function(err, client) {</div><div class="line">  assert.equal(null, err);</div><div class="line">  console.log(&quot;Connected successfully to server&quot;);</div><div class="line"></div><div class="line">  const db = client.db(dbName);</div><div class="line"></div><div class="line">  insertDocuments(db, function() {</div><div class="line">    updateDocument(db, function() {</div><div class="line">      client.close();</div><div class="line">    });</div><div class="line">  });</div><div class="line">});</div></div><!-- fragment --><h3>Remove a document</h3>
<p>Remove the document where the field <b>a</b> is equal to <b>3</b>.</p>
<div class="fragment"><div class="line">const removeDocument = function(db, callback) {</div><div class="line">  // Get the documents collection</div><div class="line">  const collection = db.collection(&#39;documents&#39;);</div><div class="line">  // Delete document where a is 3</div><div class="line">  collection.deleteOne({ a : 3 }, function(err, result) {</div><div class="line">    assert.equal(err, null);</div><div class="line">    assert.equal(1, result.result.n);</div><div class="line">    console.log(&quot;Removed the document with the field a equal to 3&quot;);</div><div class="line">    callback(result);</div><div class="line">  });</div><div class="line">}</div></div><!-- fragment --><p>Add the new method to the <b>MongoClient.connect</b> callback function.</p>
<div class="fragment"><div class="line">const MongoClient = require(&#39;mongodb&#39;).MongoClient;</div><div class="line">const assert = require(&#39;assert&#39;);</div><div class="line"></div><div class="line">// Connection URL</div><div class="line">const url = &#39;mongodb://localhost:27017&#39;;</div><div class="line"></div><div class="line">// Database Name</div><div class="line">const dbName = &#39;myproject&#39;;</div><div class="line"></div><div class="line">// Use connect method to connect to the server</div><div class="line">MongoClient.connect(url, function(err, client) {</div><div class="line">  assert.equal(null, err);</div><div class="line">  console.log(&quot;Connected successfully to server&quot;);</div><div class="line"></div><div class="line">  const db = client.db(dbName);</div><div class="line"></div><div class="line">  insertDocuments(db, function() {</div><div class="line">    updateDocument(db, function() {</div><div class="line">      removeDocument(db, function() {</div><div class="line">        client.close();</div><div class="line">      });</div><div class="line">    });</div><div class="line">  });</div><div class="line">});</div></div><!-- fragment --><h3>Index a Collection</h3>
<p><a href="https://docs.mongodb.org/manual/indexes/">Indexes</a> can improve your application's performance. The following function creates an index on the <b>a</b> field in the <b>documents</b> collection.</p>
<div class="fragment"><div class="line">const indexCollection = function(db, callback) {</div><div class="line">  db.collection(&#39;documents&#39;).createIndex(</div><div class="line">    { &quot;a&quot;: 1 },</div><div class="line">      null,</div><div class="line">      function(err, results) {</div><div class="line">        console.log(results);</div><div class="line">        callback();</div><div class="line">    }</div><div class="line">  );</div><div class="line">};</div></div><!-- fragment --><p>Add the <code>indexCollection</code> method to your app:</p>
<div class="fragment"><div class="line">const MongoClient = require(&#39;mongodb&#39;).MongoClient;</div><div class="line">const assert = require(&#39;assert&#39;);</div><div class="line"></div><div class="line">// Connection URL</div><div class="line">const url = &#39;mongodb://localhost:27017&#39;;</div><div class="line"></div><div class="line">const dbName = &#39;myproject&#39;;</div><div class="line"></div><div class="line">// Use connect method to connect to the server</div><div class="line">MongoClient.connect(url, function(err, client) {</div><div class="line">  assert.equal(null, err);</div><div class="line">  console.log(&quot;Connected successfully to server&quot;);</div><div class="line"></div><div class="line">  const db = client.db(dbName);</div><div class="line"></div><div class="line">  insertDocuments(db, function() {</div><div class="line">    indexCollection(db, function() {</div><div class="line">      client.close();</div><div class="line">    });</div><div class="line">  });</div><div class="line">});</div></div><!-- fragment --><p>For more detailed information, see the tutorials.</p>
<h2>Next Steps</h2>
<ul>
<li><a href="http://mongodb.org">MongoDB Documentation</a></li>
<li><a href="http://learnmongodbthehardway.com">Read about Schemas</a></li>
<li><a href="https://github.com/mongodb/node-mongodb-native">Star us on GitHub</a></li>
</ul>
<h2>License</h2>
<p>Apache 2.0</p>
<p>© 2009-2012 Christian Amor Kvalheim <br />
© 2012-present MongoDB Contributors </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
